<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>üñºÔ∏è Editor de Imagem</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="page">
    <h1>üñºÔ∏è Editor de Imagem</h1>

    <form method="post" enctype="multipart/form-data">
      <input type="file" name="imagem" accept="image/*" required>

      <div class="botoes-acoes">
        <button type="submit" name="acao" value="aplicar">Aplicar Filtros</button>
        <button type="submit" name="acao" value="salvar">Salvar</button>
      </div>

      <div class="form-group">
        <label>Filtros:</label>
        <select name="filtro">
          <option value="original">Original</option>
          <option value="blur">Borrado</option>
          <option value="contorno">Contorno</option>
          <option value="escala_cinza">Escala de Cinza</option>
        </select>
      </div>

      <div class="form-group">
        <label>Brilho:</label>
        <input type="range" name="brilho" min="0" max="200" value="100">
      </div>
      <div class="form-group">
        <label>Contraste:</label>
        <input type="range" name="contraste" min="0" max="200" value="100">
      </div>
      <div class="form-group">
        <label>Nitidez:</label>
        <input type="range" name="nitidez" min="0" max="200" value="100">
      </div>
    </form>

    {% if imagem_processada %}
      <div class="image-container">
        <img src="data:image/png;base64,{{ imagem_processada }}" alt="Imagem editada">
        <a href="data:image/png;base64,{{ imagem_processada }}" download="imagem_editada.png">üì• Baixar Imagem</a>
      </div>
    {% endif %}

    {% if erro %}
      <div class="message error">{{ erro }}</div>
    {% endif %}

  </div>
</body>
</html>
